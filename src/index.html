<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://code.jquery.com/jquery-4.0.0-beta.min.js"></script>
    <link rel="stylesheet" href="index.css" />
    <title>토도</title>
</head>

<body>
    <!-- 챗지피티 없이 하는 순수 todo 프로젝트  -->
    <header class="h" id="h">
        <nav class="nav container">
            <a href="#" class="nav__logo">JHP AI Todo</a>
            <div class="input-wrapper">
                <form action="/aaa" method="post">
                    <input type="text" name="tod-val" id="todoval" />
                    <input type="submit" value="등록" class="btn" />
                </form>
            </div>
        </nav>
    </header>

    <div id="boxof">
        <ul id="ulof"></ul>
    </div>

    <script>
        $(".btn").on("click", (e) => {
            e.preventDefault();

            const value = $("#todoval").val();

            $.ajax({
                url: "/api/todo",
                method: "POST",
                contentType: "application/json",
                data: JSON.stringify({ todo: value }),
                success: (data) => {
                    if (data.todo !== "") {
                        $("<li>").text(data.todo).appendTo("#ulof").addClass("lik");
                        $("<span id='remove'>").text("❌").appendTo(".lik").addClass("remove");
                        $("#todoval").val("");
                    }
                },
            });
        });
    </script>
</body>

</html>
